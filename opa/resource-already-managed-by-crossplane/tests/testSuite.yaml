---
kind: Suite
apiVersion: test.gatekeeper.sh/v1alpha1
metadata:
  name: resource-already-managed-by-crossplane
tests:
- name: resource-already-managed-by-crossplane
  template: ../resourcealreadymanagedbycrossplane-constraint-template.yaml
  constraint: ../resourcealreadymanagedbycrossplane-constraint.yaml
  cases:
  - name: disallow bucketName reuse
    object: disallow_bucketName_reuse.yaml
    inventory:
    - samples/data_object_bucketName.yaml # This contains a sample to mock an already existing object
    assertions:
    - violations: yes
  - name: disallow serviceName reuse
    object: disallow_serviceName_reuse.yaml
    inventory:
    - samples/data_object_serviceName.yaml # This contains a sample to mock an already existing object
    assertions:
    - violations: yes